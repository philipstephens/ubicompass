<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Income Range Component Demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’°</text></svg>"
    />
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f5f5f5;
      }
      .header-container {
        background-color: rgba(186, 164, 61, 1);
        height: 16rem;
        display: flex;
        align-items: center;
        padding: 0 2rem;
      }
      .header-content {
        display: flex;
        flex-direction: column;
        color: white;
      }
      .menu-container {
        background-color: rgb(255, 215, 0);
        height: 1rem;
      }
      .income-range {
        border-radius: 24px;
        overflow: hidden;
        border: 1px solid #ccc;
        background-color: white;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }
      .income-range-header {
        background-color: blue;
        padding: 10px 15px;
        text-align: center;
      }
      .income-range-header h4 {
        font-weight: bold;
        font-size: 18px;
        margin: 0;
        color: white;
      }
      .income-range-content {
        padding: 20px;
      }
      .tax-bracket {
        background-color: #f0f8ff;
        padding: 12px;
        border-radius: 8px;
        margin-bottom: 8px;
      }
      .tax-bracket-row {
        display: flex;
        justify-content: space-between;
      }
      .ubi-parameters {
        border-radius: 24px;
        overflow: hidden;
        border: 1px solid #ccc;
        background-color: white;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }
      .ubi-parameters-header {
        background-color: purple;
        padding: 10px 15px;
        text-align: center;
      }
      .ubi-parameters-header h4 {
        font-weight: bold;
        font-size: 18px;
        margin: 0;
        color: white;
      }
      .ubi-parameters-content {
        padding: 20px;
      }
      .parameter-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
      }
      select {
        width: 240px;
        padding: 4px 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
        background-color: white;
      }
      .notification {
        position: fixed;
        bottom: 20px;
        right: 20px;
        padding: 15px 20px;
        background-color: #4caf50;
        color: white;
        border-radius: 5px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        opacity: 0;
        transition: opacity 0.3s ease-in-out;
        z-index: 1000;
      }
      .notification.show {
        opacity: 1;
      }
    </style>
  </head>
  <body>
    <div class="min-h-screen">
      <!-- Header -->
      <div class="header-container">
        <div class="header-content">
          <h1 class="text-3xl font-bold">Income Range Component Demo</h1>
          <p class="text-sm">Testing the income range component</p>
        </div>
      </div>

      <!-- Menu -->
      <div class="menu-container"></div>

      <!-- Main content -->
      <div class="mx-4 p-6 bg-white rounded-lg shadow-md mt-4">
        <h2 class="text-2xl font-bold mb-4">Income Range Component Demo</h2>
        <p class="mb-4">
          This page demonstrates the income range component in isolation. You
          can adjust the exemption amount and see how it updates the tax
          brackets.
        </p>

        <div class="bg-blue-50 p-4 rounded-lg border border-blue-100 mb-6">
          <h3 class="text-blue-800 font-medium text-lg mb-2">
            Integration Guide
          </h3>
          <p class="text-blue-600 text-sm mb-2">
            To integrate this component into your Qwik application:
          </p>
          <ol class="text-blue-600 text-sm list-decimal pl-5">
            <li class="mb-1">
              Create a standalone component that doesn't rely on the UBI store
            </li>
            <li class="mb-1">
              Use local state with useSignal() for the exemption amount and tax
              rate
            </li>
            <li class="mb-1">
              Implement event handlers with $() to update the state
            </li>
            <li class="mb-1">
              Use the component directly in your pages without complex data
              providers
            </li>
          </ol>
        </div>

        <div class="flex flex-wrap gap-6 mt-8">
          <!-- UBI Parameters -->
          <div class="w-full md:w-1/3">
            <div class="ubi-parameters">
              <div class="ubi-parameters-header">
                <h4>UBI Calculator Parameters</h4>
              </div>
              <div class="ubi-parameters-content">
                <div class="parameter-row">
                  <strong>Tax Rate:</strong>
                  <span id="taxRateDisplay">30%</span>
                </div>
                <div class="parameter-row">
                  <strong>Exemption Amount:</strong>
                  <select id="exemptionAmount">
                    <option value="0">$0k (No exemption)</option>
                    <option value="12">$12k (No tax on first $12k)</option>
                    <option value="18">$18k (No tax on first $18k)</option>
                    <option value="24" selected>
                      $24k (No tax on first $24k)
                    </option>
                    <option value="30">$30k (No tax on first $30k)</option>
                    <option value="36">$36k (No tax on first $36k)</option>
                  </select>
                </div>
                <div class="parameter-row">
                  <strong>Tax Model:</strong>
                  <select id="taxModel">
                    <option value="flat" selected>Flat Tax</option>
                    <option value="progressive">Progressive Tax</option>
                    <option value="bell">Bell Curve</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <!-- Income Range Component -->
          <div class="w-full md:w-1/3">
            <div class="income-range">
              <div class="income-range-header">
                <h4>Income Range</h4>
              </div>
              <div class="income-range-content">
                <p style="margin-bottom: 16px">
                  <strong>Current Tax Model:</strong>
                  <span id="currentTaxModel">Flat Tax</span>
                </p>
                <p style="margin-bottom: 8px">
                  <strong>Tax Brackets:</strong>
                </p>
                <div class="tax-bracket">
                  <div class="tax-bracket-row">
                    <span id="bracket1">$0k - $24k</span>
                    <span style="font-weight: bold">0%</span>
                  </div>
                </div>
                <div class="tax-bracket">
                  <div class="tax-bracket-row">
                    <span id="bracket2">$24k+</span>
                    <span style="font-weight: bold" id="taxRateValue">30%</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Controls -->
          <div class="w-full md:w-1/3 p-4 bg-gray-100 rounded-lg">
            <h3 class="text-xl font-bold mb-4">Controls</h3>

            <div class="mb-4">
              <label class="block text-gray-700 mb-2">Exemption Amount:</label>
              <select
                id="exemptionAmountControl"
                class="w-full p-2 border rounded"
              >
                <option value="0">$0k (No exemption)</option>
                <option value="12">$12k</option>
                <option value="18">$18k</option>
                <option value="24" selected>$24k</option>
                <option value="30">$30k</option>
                <option value="36">$36k</option>
              </select>
            </div>

            <div class="mb-4">
              <label class="block text-gray-700 mb-2">Tax Rate:</label>
              <select id="taxRateControl" class="w-full p-2 border rounded">
                <option value="20">20%</option>
                <option value="25">25%</option>
                <option value="30" selected>30%</option>
                <option value="35">35%</option>
                <option value="40">40%</option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification">
      Changes saved successfully!
    </div>

    <script>
      // Get elements
      const exemptionAmount = document.getElementById("exemptionAmount");
      const exemptionAmountControl = document.getElementById(
        "exemptionAmountControl"
      );
      const taxRateControl = document.getElementById("taxRateControl");
      const taxRateDisplay = document.getElementById("taxRateDisplay");
      const taxRateValue = document.getElementById("taxRateValue");
      const bracket1 = document.getElementById("bracket1");
      const bracket2 = document.getElementById("bracket2");
      const taxModel = document.getElementById("taxModel");
      const currentTaxModel = document.getElementById("currentTaxModel");
      const notification = document.getElementById("notification");

      // Show notification
      function showNotification(message) {
        notification.textContent = message;
        notification.classList.add("show");
        setTimeout(() => {
          notification.classList.remove("show");
        }, 3000);
      }

      // Update brackets when exemption amount changes
      function updateExemptionAmount(value) {
        exemptionAmount.value = value;
        exemptionAmountControl.value = value;
        bracket1.textContent = `$0k - $${value}k`;
        bracket2.textContent = `$${value}k+`;
        showNotification(`Exemption amount updated to $${value}k`);
      }

      // Update tax rate display when tax rate changes
      function updateTaxRate(value) {
        taxRateDisplay.textContent = `${value}%`;
        taxRateValue.textContent = `${value}%`;
        taxRateControl.value = value;
        showNotification(`Tax rate updated to ${value}%`);
      }

      // Update tax model display when tax model changes
      function updateTaxModel(value) {
        const modelName =
          value.charAt(0).toUpperCase() + value.slice(1) + " Tax";
        currentTaxModel.textContent = modelName;
        showNotification(`Tax model updated to ${modelName}`);
      }

      // Event listeners
      exemptionAmount.addEventListener("change", function () {
        updateExemptionAmount(this.value);
      });

      exemptionAmountControl.addEventListener("change", function () {
        updateExemptionAmount(this.value);
      });

      taxRateControl.addEventListener("change", function () {
        updateTaxRate(this.value);
      });

      taxModel.addEventListener("change", function () {
        updateTaxModel(this.value);
      });
    </script>
  </body>
</html>
