<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UBI Compass - Navigate UBI Policy with Data-Driven Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f3f4f6;
      }
      .header {
        background-color: rgba(186, 164, 61, 1);
        color: white;
        padding: 20px;
        text-align: center;
        height: 150px;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
      .menu {
        background-color: rgb(255, 215, 0);
        color: rgb(255, 0, 0);
        padding: 10px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .card {
        border-radius: 24px;
        overflow: hidden;
        border: 1px solid #d0d6f7;
        background-color: white;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin: 20px;
      }
      .card-header {
        background-color: #9333ea;
        padding: 15px;
        color: white;
        font-weight: bold;
        font-size: 18px;
      }
      .card-content {
        padding: 20px;
      }
      .controls {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
      }
      .control-group {
        display: flex;
        flex-direction: column;
      }
      .control-label {
        margin-bottom: 8px;
        font-weight: 500;
      }
      .control-select, .control-range {
        padding: 8px;
        border: 1px solid #d1d5db;
        border-radius: 4px;
      }
      .chart-container {
        background-color: #f8f9fa;
        border: 2px solid #e9ecef;
        border-radius: 8px;
        padding: 20px;
        margin: 20px 0;
        min-height: 400px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
      }
      .placeholder-text {
        color: #6c757d;
        font-size: 18px;
        font-weight: 500;
      }
      .results-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }
      .result-card {
        background-color: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 8px;
        padding: 15px;
        text-align: center;
      }
      .result-title {
        font-weight: bold;
        color: #495057;
        margin-bottom: 10px;
      }
      .result-value {
        font-size: 24px;
        font-weight: bold;
        color: #28a745;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h1 class="text-4xl font-bold">UBI Compass</h1>
      <p class="text-lg">Navigate UBI Policy with Data-Driven Analysis</p>
    </div>

    <div class="menu">
      <div class="flex space-x-4">
        <a href="#" class="text-red-700 hover:text-red-900 font-bold">UBI Compass</a>
        <a href="#" class="text-red-700 hover:text-red-900">Policy Analysis</a>
      </div>
      <div>
        <select class="bg-yellow-200 text-red-700 p-1 rounded">
          <option value="en">English</option>
          <option value="fr">FranÃ§ais</option>
        </select>
      </div>
    </div>

    <div class="container mx-auto px-4 py-8">
      <div class="card">
        <div class="card-header">
          UBI Compass Analysis Parameters
        </div>
        <div class="card-content">
          <div class="controls">
            <div class="control-group">
              <label class="control-label">Tax Year</label>
              <select id="taxYear" class="control-select">
                <option value="2022" selected>2022</option>
                <option value="2021">2021</option>
                <option value="2020">2020</option>
              </select>
            </div>

            <div class="control-group">
              <label class="control-label">UBI Amount</label>
              <select id="ubiAmount" class="control-select">
                <option value="12">$12k / Year ($1.0k / month)</option>
                <option value="18">$18k / Year ($1.5k / month)</option>
                <option value="24" selected>$24k / Year ($2.0k / month)</option>
                <option value="30">$30k / Year ($2.5k / month)</option>
                <option value="36">$36k / Year ($3.0k / month)</option>
              </select>
            </div>

            <div class="control-group">
              <label class="control-label">Flat Tax Percentage: <span id="taxPercentageValue">30%</span></label>
              <input type="range" id="taxPercentage" class="control-range" min="1" max="99" value="30" />
            </div>

            <div class="control-group">
              <label class="control-label">Exemption Amount</label>
              <select id="exemptionAmount" class="control-select">
                <option value="0">$0k (No exemption)</option>
                <option value="12">$12k (No tax on first $12k)</option>
                <option value="18">$18k (No tax on first $18k)</option>
                <option value="24" selected>$24k (No tax on first $24k)</option>
                <option value="30">$30k (No tax on first $30k)</option>
                <option value="36">$36k (No tax on first $36k)</option>
              </select>
            </div>

            <div class="control-group">
              <label class="control-label">Child UBI Amount (Monthly)</label>
              <select id="childUbiAmount" class="control-select">
                <option value="0">$0/month (No child UBI)</option>
                <option value="50">$50/month ($600/year)</option>
                <option value="100">$100/month ($1.2k/year)</option>
                <option value="200" selected>$200/month ($2.4k/year)</option>
                <option value="300">$300/month ($3.6k/year)</option>
                <option value="500">$500/month ($6.0k/year)</option>
              </select>
            </div>
          </div>

          <button id="calculateBtn" class="bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 transition-colors">
            Calculate UBI Impact
          </button>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          UBI Program Feasibility Analysis
        </div>
        <div class="card-content">
          <div class="results-grid" id="resultsGrid">
            <div class="result-card">
              <div class="result-title">Adult UBI</div>
              <div class="result-value" id="adultUbiResult">$24k/year</div>
            </div>
            <div class="result-card">
              <div class="result-title">Child UBI</div>
              <div class="result-value" id="childUbiResult">$2.4k/year</div>
            </div>
            <div class="result-card">
              <div class="result-title">Gross Program Cost</div>
              <div class="result-value" id="grossCostResult">$738 billion</div>
            </div>
            <div class="result-card">
              <div class="result-title">Tax Revenue</div>
              <div class="result-value" id="taxRevenueResult">$221 billion</div>
            </div>
            <div class="result-card">
              <div class="result-title">Net Program Cost</div>
              <div class="result-value" id="netCostResult">$517 billion</div>
            </div>
            <div class="result-card">
              <div class="result-title">GDP Impact</div>
              <div class="result-value" id="gdpImpactResult">19.1% of GDP</div>
            </div>
            <div class="result-card">
              <div class="result-title">Budget Impact</div>
              <div class="result-value" id="budgetImpactResult">115% of federal budget</div>
            </div>
            <div class="result-card">
              <div class="result-title">Feasibility</div>
              <div class="result-value" id="feasibilityResult" style="color: #dc3545;">DIFFICULT</div>
            </div>
          </div>
        </div>
      </div>

      <div class="chart-container">
        <div class="placeholder-text">
          ðŸ“Š Interactive Charts Coming Soon<br>
          <small>This simplified version shows feasibility calculations.<br>
          Full chart functionality requires the complete Qwik application.</small>
        </div>
      </div>
    </div>

    <script>
      // Update tax percentage display
      const taxPercentage = document.getElementById('taxPercentage');
      const taxPercentageValue = document.getElementById('taxPercentageValue');
      
      taxPercentage.addEventListener('input', function() {
        taxPercentageValue.textContent = this.value + '%';
        calculateUBI();
      });

      // Calculate UBI impact
      function calculateUBI() {
        const ubiAmount = parseInt(document.getElementById('ubiAmount').value) * 1000;
        const childUbiMonthly = parseInt(document.getElementById('childUbiAmount').value);
        const childUbiAnnual = childUbiMonthly * 12;
        const taxRate = parseInt(document.getElementById('taxPercentage').value) / 100;
        const exemption = parseInt(document.getElementById('exemptionAmount').value) * 1000;

        // Canadian population estimates
        const adultPopulation = 30000000;
        const childPopulation = 7500000;

        // Gross costs
        const adultUbiCost = adultPopulation * ubiAmount;
        const childUbiCost = childPopulation * childUbiAnnual;
        const grossCost = adultUbiCost + childUbiCost;

        // Simplified tax revenue calculation
        const averageIncome = 50000; // Simplified average
        const totalIncome = averageIncome + ubiAmount;
        const taxableAmount = Math.max(0, totalIncome - exemption);
        const taxPerPerson = taxableAmount * taxRate;
        const totalTaxRevenue = taxPerPerson * adultPopulation;

        // Net cost
        const netCost = grossCost - totalTaxRevenue;

        // Context
        const canadianGDP = 2700000000000;
        const federalBudget = 450000000000;
        const gdpPercentage = (netCost / canadianGDP) * 100;
        const budgetPercentage = (netCost / federalBudget) * 100;

        // Update display
        document.getElementById('adultUbiResult').textContent = `$${(ubiAmount/1000).toFixed(0)}k/year`;
        document.getElementById('childUbiResult').textContent = `$${(childUbiAnnual/1000).toFixed(1)}k/year`;
        document.getElementById('grossCostResult').textContent = `$${(grossCost/1000000000).toFixed(0)} billion`;
        document.getElementById('taxRevenueResult').textContent = `$${(totalTaxRevenue/1000000000).toFixed(0)} billion`;
        document.getElementById('netCostResult').textContent = `$${(netCost/1000000000).toFixed(0)} billion`;
        document.getElementById('gdpImpactResult').textContent = `${gdpPercentage.toFixed(1)}% of GDP`;
        document.getElementById('budgetImpactResult').textContent = `${budgetPercentage.toFixed(0)}% of federal budget`;

        // Feasibility
        const feasibilityElement = document.getElementById('feasibilityResult');
        if (gdpPercentage < 5) {
          feasibilityElement.textContent = 'FEASIBLE';
          feasibilityElement.style.color = '#28a745';
        } else if (gdpPercentage < 10) {
          feasibilityElement.textContent = 'CHALLENGING';
          feasibilityElement.style.color = '#ffc107';
        } else {
          feasibilityElement.textContent = 'DIFFICULT';
          feasibilityElement.style.color = '#dc3545';
        }
      }

      // Add event listeners
      document.getElementById('calculateBtn').addEventListener('click', calculateUBI);
      document.getElementById('ubiAmount').addEventListener('change', calculateUBI);
      document.getElementById('exemptionAmount').addEventListener('change', calculateUBI);
      document.getElementById('childUbiAmount').addEventListener('change', calculateUBI);

      // Initial calculation
      calculateUBI();
    </script>
  </body>
</html>
